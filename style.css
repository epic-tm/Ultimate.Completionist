/* Base */
:root{
  --bg: #061217; 
  --panel-bg: rgba(6, 10, 15, 0.85);
  --accent: #64dfff;
  --muted: rgba(255,255,255,0.6);
  --glass: rgba(255,255,255,0.03);
}

html,body{ height:100%; margin:0; background:#000; font-family: "Segoe UI", Roboto, Arial; color:#fff; }

canvas { display:block; width:100%; height:100vh; background: transparent; }

/* Hover info (small card near cursor) */
.hover-info{
  position: fixed;
  pointer-events:none;
  left: 12px;
  top: 12px;
  transform: translate(0,0);
  background: var(--panel-bg);
  border: 1px solid rgba(255,255,255,0.06);
  padding: 10px 12px;
  border-radius: 8px;
  min-width: 180px;
  max-width: 320px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  transition: transform 120ms ease, opacity 120ms ease;
  opacity: 0;
  z-index: 20;
}
.hover-info.show{ opacity: 1; pointer-events:auto; }
.hover-info .hi-title{ font-weight:700; color:var(--accent); margin-bottom:6px; }
.hover-info .hi-resources{ font-size: 13px; color:var(--muted); }

/* Side panel */
.side-panel{
  position: fixed;
  right: 20px;
  top: 48px;
  bottom: 20px;
  width: 360px;
  background: linear-gradient(180deg, rgba(12,16,20,0.92), rgba(6,10,15,0.86));
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 10px;
  padding: 12px;
  z-index: 15;
  box-shadow: 0 12px 40px rgba(0,0,0,0.7);
  display:flex;
  flex-direction:column;
  gap:10px;
  transform: translateY(0);
}
.side-panel .side-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding-bottom:6px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
}
.side-panel .side-header #sideTitle{ font-size:18px; font-weight:700; color:var(--accent); }
.side-controls button{ margin-left:8px; padding:6px 8px; border-radius:6px; background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted); cursor:pointer; }

.panel-section{ overflow:auto; max-height:38vh; padding:8px 0; }
.hidden{ display:none; }

.meta-line{ color:var(--muted); font-size:13px; margin-bottom:8px; }

/* Tiers list */
.tiers-list{ display:flex; flex-direction:column; gap:8px; }
.tier-card{
  display:flex; gap:10px; align-items:flex-start; padding:10px; border-radius:8px;
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.03);
}
.tier-card .tier-meta{ flex:1; }
.tier-title{ font-weight:700; color:#fff; margin-bottom:6px; }
.tier-achievements{ display:flex; gap:6px; flex-wrap:wrap; }
.ach-pill{
  background: var(--glass); border: 1px solid rgba(255,255,255,0.03);
  padding:4px 8px; border-radius:6px; font-size:12px; color:var(--muted); cursor:pointer;
  transition: transform 100ms ease, background 160ms ease;
}
.ach-pill:hover{ transform: translateY(-3px); background: rgba(100,223,255,0.06); color: #fff; }

/* Junction list */
.junction-list{ display:flex; flex-direction:column; gap:8px; }
.junction-task{ padding:8px; border-radius:6px; background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); }

/* popup (achievement detail) */
.popup{
  position: fixed;
  right: 50%;
  top: 50%;
  transform: translate(50%, -50%);
  background: var(--panel-bg);
  border: 1px solid rgba(255,255,255,0.06);
  padding: 18px; border-radius:10px; z-index:30; min-width:320px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.8);
}
.popup h2{ margin:0 0 8px 0; color:var(--accent); }
.popup p{ color:var(--muted); }

/* Modal */
.modal{ position:fixed; inset:0; background: rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; z-index:40; }
.modal-inner{ width:560px; max-width:92%; background: var(--panel-bg); padding:18px; border-radius:10px; position:relative; border:1px solid rgba(255,255,255,0.06); }
.modal-close{ position:absolute; right:12px; top:12px; background:transparent; border:none; color:var(--muted); font-size:18px; cursor:pointer; }
.modal-actions{ margin-top:10px; text-align:right; }

/* Admin panel button */
#adminButton{ position: fixed; left: 12px; bottom: 12px; z-index:30; padding:8px 10px; border-radius:8px; background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); color:var(--muted); cursor:pointer; }

/* small responsive tweaks */
@media (max-width: 900px){
  .side-panel{ width: 320px; right: 8px; }
}
